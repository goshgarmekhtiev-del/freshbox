# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Telegram API

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫

### ‚úÖ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã `/api/send-lead`

#### **1.1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å HTML-—Ä–∞–∑–º–µ—Ç–∫–æ–π
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `parse_mode: "HTML"`
- ‚úÖ –≠–º–æ–¥–∑–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è B2B/Order —Ä–∞–±–æ—Ç–∞–µ—Ç

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è B2B:**
```
üçä FreshBox ‚Äî –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞!

–¢–∏–ø: B2B
–ò–º—è: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
–¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 000-00-00
Email: ivan@example.com
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –ù—É–∂–µ–Ω –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∑–∞–∫–∞–∑
```

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è Order:**
```
üçä FreshBox ‚Äî –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞!

–¢–∏–ø: Order
–ò–º—è: –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞
–¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 111-22-33
Email: maria@example.com
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ö–æ—Ä–∑–∏–Ω–∞:
‚Ä¢ –°—Ä–µ–¥–Ω–∏–π –±–æ–∫—Å ‚Ä¢ –ö–ª–∞—Å—Å–∏–∫–∞ ‚Äî 2 —à—Ç (4200 ‚ÇΩ)
‚Ä¢ –ë–æ–ª—å—à–æ–π –±–æ–∫—Å ‚Ä¢ –¢—Ä–æ–ø–∏–∫–∏ ‚Äî 1 —à—Ç (6500 ‚ÇΩ)
–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏: –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1
–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: –°–µ–≥–æ–¥–Ω—è, 14:00
```

#### **1.2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ú–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ POST)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (type –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, phone –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è Order)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Telegram API (4xx, 5xx)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—å

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `405` - Method not allowed (–Ω–µ POST)
- `400` - Missing required fields
- `500` - Server configuration error (–Ω–µ—Ç env vars)
- `500` - Telegram send error (–æ—à–∏–±–∫–∞ API Telegram)

---

### ‚úÖ 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑ B2BForm

#### **2.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–æ—Å–∞**

**–ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω:**
```typescript
const response = await fetch('/api/send-lead', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    type: 'B2B',
    name: formData.name,
    phone: formData.phone || '', // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
    email: formData.email,
    comment: formData.comment || '',
  }),
});
```

**–û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- ‚úÖ `type: 'B2B'` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ `name` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- ‚úÖ `phone` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π)
- ‚úÖ `email` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- ‚úÖ `comment` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ

#### **2.2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞**

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
- ‚úÖ `setStatus('success')` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ Success-—ç–∫—Ä–∞–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –ê–≤—Ç–æ-–∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

**–û—à–∏–±–∫–∞:**
- ‚úÖ `setStatus('idle')` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- ‚úÖ `alert('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏...')` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –§–æ—Ä–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–æ–π –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏

---

### ‚úÖ 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑ OrderForm

#### **3.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—Ä–æ—Å–∞**

**–ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω:**
```typescript
const response = await fetch('/api/send-lead', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    type: 'Order',
    name: formData.name,
    phone: formData.phone, // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –¥–ª—è Order
    email: formData.email,
    address: formData.address,
    deliveryTime: formData.deliveryTime,
    comment: formData.comment || '',
    cart: cart.map(item => ({
      title: item.name,
      quantity: item.quantity,
      price: item.price,
    })),
  }),
});
```

**–û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- ‚úÖ `type: 'Order'` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ `name` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- ‚úÖ `phone` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- ‚úÖ `email` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
- ‚úÖ `address` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- ‚úÖ `deliveryTime` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- ‚úÖ `cart` - –º–∞—Å—Å–∏–≤ —Å `title`, `quantity`, `price`

#### **3.2. –§–æ—Ä–º–∞—Ç –∫–æ—Ä–∑–∏–Ω—ã –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –ö–æ—Ä–∑–∏–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Å–ø–∏—Å–æ–∫
- ‚úÖ –§–æ—Ä–º–∞—Ç: `‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏–µ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à—Ç (—Ü–µ–Ω–∞ ‚ÇΩ)`
- ‚úÖ –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### **3.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
- ‚úÖ `setStatus('success')` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ `onOrderComplete()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã

**–û—à–∏–±–∫–∞:**
- ‚úÖ `setStatus('idle')` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
- ‚úÖ `alert('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞...')` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –§–æ—Ä–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏

---

### ‚úÖ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

#### **4.1. HTML-—Ä–∞–∑–º–µ—Ç–∫–∞**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ `<b>...</b>` –¥–ª—è –∂–∏—Ä–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –≠–º–æ–¥–∑–∏ üçä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–ø–∏—Å–∫–∏ —Å `‚Ä¢` –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã
- ‚úÖ –ü–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ `\n`

#### **4.2. –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞**

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- ‚úÖ –î–ª—è B2B: –Ω–µ—Ç –±–ª–æ–∫–∞ "–ö–æ—Ä–∑–∏–Ω–∞", "–ê–¥—Ä–µ—Å", "–í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏"
- ‚úÖ –î–ª—è Order: –≤—Å–µ –±–ª–æ–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

---

### ‚úÖ 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–µ–ø–ª–æ—è

#### **5.1. Vercel Serverless Function**

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- ‚úÖ –§–∞–π–ª `/api/send-lead.ts` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `@vercel/node` –¥–ª—è —Ç–∏–ø–æ–≤
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è `default async function handler`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è:**
```bash
# –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Vercel –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
curl -X POST https://your-domain.vercel.app/api/send-lead \
  -H "Content-Type: application/json" \
  -d '{
    "type": "B2B",
    "name": "Test",
    "phone": "+79990000000",
    "email": "test@example.com"
  }'
```

#### **5.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoint –Ω–∞ –ø—Ä–æ–¥–µ**

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (200):**
```json
{
  "status": "ok"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (400):**
```json
{
  "message": "Missing required field: type"
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç (500):**
```json
{
  "message": "Server configuration error"
}
```

---

### ‚úÖ 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ environment variables

#### **6.1. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**

**–°–æ–∑–¥–∞–π—Ç–µ `.env.local`:**
```env
TG_BOT_TOKEN=8504360654:AAFxjpDGycPWWzGV2XDtuD0IUulbuYNbAGo
TG_CHAT_ID=785231354
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ `.env.local` –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ `.gitignore` (–Ω–æ `.env*` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å)
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `process.env.TG_BOT_TOKEN`
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `process.env.TG_CHAT_ID`

#### **6.2. Production (Vercel)**

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Vercel Dashboard
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí Environment Variables
3. –î–æ–±–∞–≤—å—Ç–µ:
   - `TG_BOT_TOKEN` = `8504360654:AAFxjpDGycPWWzGV2XDtuD0IUulbuYNbAGo`
   - `TG_CHAT_ID` = `785231354`
4. –í—ã–±–µ—Ä–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: Production, Preview, Development
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ serverless —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ "Missing Telegram credentials"

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ B2B-–∑–∞—è–≤–∫–∏**

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É B2B
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
   - –ö–æ–º–ø–∞–Ω–∏—è: "–û–û–û –†–æ–º–∞—à–∫–∞"
   - –ò–º—è: "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
   - Email: "ivan@example.com"
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: "20‚Äì50"
   - –ß–∞—Å—Ç–æ—Ç–∞ –ø–æ—Å—Ç–∞–≤–æ–∫: "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ"
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –ö–ü"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ Success-—ç–∫—Ä–∞–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –í Telegram –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –¥–∞–Ω–Ω—ã–º–∏ —Ñ–æ—Ä–º—ã
- ‚úÖ –§–æ—Ä–º–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞**

**–®–∞–≥–∏:**
1. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
   - –ò–º—è: "–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞"
   - –¢–µ–ª–µ—Ñ–æ–Ω: "+7 (999) 111-22-33"
   - –ê–¥—Ä–µ—Å: "–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1"
   - –í—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏: –≤—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è
4. –ù–∞–∂–º–∏—Ç–µ "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ Success-—ç–∫—Ä–∞–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –í Telegram –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–æ—Ä–∑–∏–Ω–æ–π –∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –§–æ—Ä–º–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–æ—Ä–º—É B2B
2. –û—Å—Ç–∞–≤—å—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—É—Å—Ç—ã–º–∏
3. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –ö–ü"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –ó–∞–ø—Ä–æ—Å –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –§–æ—Ä–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç–æ–π

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 4: –û—à–∏–±–∫–∞ —Å–µ—Ç–∏/—Å–µ—Ä–≤–µ—Ä–∞**

**–®–∞–≥–∏:**
1. –û—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–≤–µ—Ä–Ω—ã–π endpoint)
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è alert —Å –æ—à–∏–±–∫–æ–π
- ‚úÖ –§–æ—Ä–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `idle`
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- ‚úÖ –ú–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É

---

### **–°—Ü–µ–Ω–∞—Ä–∏–π 5: –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ –≤ –∑–∞–∫–∞–∑–µ**

**–®–∞–≥–∏:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞ –±–µ–∑ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø—É—Å—Ç–æ–π –∫–æ—Ä–∑–∏–Ω–µ
- ‚úÖ –§–æ—Ä–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üîç –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ endpoint —á–µ—Ä–µ–∑ curl**

```bash
# B2B –∑–∞—è–≤–∫–∞
curl -X POST http://localhost:3000/api/send-lead \
  -H "Content-Type: application/json" \
  -d '{
    "type": "B2B",
    "name": "–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤",
    "phone": "+79990000000",
    "email": "test@example.com",
    "comment": "–¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"
  }'

# –ó–∞–∫–∞–∑
curl -X POST http://localhost:3000/api/send-lead \
  -H "Content-Type: application/json" \
  -d '{
    "type": "Order",
    "name": "–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤",
    "phone": "+79990000000",
    "email": "test@example.com",
    "address": "–ú–æ—Å–∫–≤–∞, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, –¥. 1",
    "deliveryTime": "–°–µ–≥–æ–¥–Ω—è, 14:00",
    "cart": [
      {
        "title": "–°—Ä–µ–¥–Ω–∏–π –±–æ–∫—Å ‚Ä¢ –ö–ª–∞—Å—Å–∏–∫–∞",
        "quantity": 2,
        "price": 4200
      }
    ]
  }'
```

### **–¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫**

```bash
# –ù–µ–≤–µ—Ä–Ω—ã–π –º–µ—Ç–æ–¥
curl -X GET http://localhost:3000/api/send-lead

# –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç type
curl -X POST http://localhost:3000/api/send-lead \
  -H "Content-Type: application/json" \
  -d '{"name": "Test"}'

# –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç phone –¥–ª—è Order
curl -X POST http://localhost:3000/api/send-lead \
  -H "Content-Type: application/json" \
  -d '{"type": "Order", "name": "Test"}'
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

- [x] **API endpoint** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- [x] **HTML-—Ä–∞–∑–º–µ—Ç–∫–∞** —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [x] **–û—à–∏–±–∫–∏** –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] **B2BForm** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [x] **OrderForm** –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ—Ä–∑–∏–Ω—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] **–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- [x] **Environment variables** –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] **–í–∞–ª–∏–¥–∞—Ü–∏—è** —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫
- [x] **UI —Ñ–æ—Ä–º** –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–º
- [x] **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –≤ UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞

---

## üö® –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: –í–∞–ª–∏–¥–∞—Ü–∏—è phone –≤ API**

**–ü—Ä–æ–±–ª–µ–º–∞:** API —Ç—Ä–µ–±–æ–≤–∞–ª phone –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∑–∞—è–≤–æ–∫, –Ω–æ –¥–ª—è B2B phone –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –î–æ
if (!data.type || !data.phone) {
  return res.status(400).json({ message: 'Missing required fields: type, phone' });
}

// –ü–æ—Å–ª–µ
if (!data.type) {
  return res.status(400).json({ message: 'Missing required field: type' });
}

if (data.type === 'Order' && !data.phone) {
  return res.status(400).json({ message: 'Missing required field: phone (required for Order)' });
}
```

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è Production

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Vercel Dashboard
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ Vercel Analytics

2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - ‚úÖ `.env.local` –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ git
   - ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ Vercel Dashboard
   - ‚úÖ API endpoint –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º)

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥ production
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Telegram –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∑–∞—è–≤–∫–∏

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã:**
- ‚úÖ Endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –§–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ Telegram
- ‚úÖ –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ UI –æ—Å—Ç–∞–µ—Ç—Å—è —Ä–∞–±–æ—á–∏–º

**–ì–æ—Ç–æ–≤–æ –∫ production!** üöÄ

